{"ast":null,"code":"var _jsxFileName = \"/Users/yan.bo.ng/Downloads/team8-portfolio-optimizer-new 2/src/components/MasterForm.js\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Component } from \"react\";\nimport Radiochecklist from \"./RadioChecklist\"; // importing child component\n\nimport Step1 from \"./BasicInfo\";\nimport Step2 from \"./RiskTolerance1\";\nimport Step3 from \"./RiskTolerance2\";\nimport Step4 from \"./page5\";\nimport Step5 from \"./page6\";\nimport Step6 from \"./page7\";\n\nclass MasterForm extends Component {\n  constructor(props) {\n    super(props); // Set the initial input values\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const _this$state = this.state,\n            email = _this$state.email,\n            username = _this$state.username,\n            password = _this$state.password;\n      alert(\"Your registration detail: \\n \\n           Email: \".concat(email, \" \\n \\n           Username: \").concat(username, \" \\n\\n           Password: \").concat(password));\n    };\n\n    this._next = () => {\n      // console.log(\"next\", this.state.currentStep);\n      // console.log(this.state.basicInfoAns, \"basicInfo\");\n      // console.log(this.state.answer, \"answer\");\n      let currentStep = this.state.currentStep; // If the current step is 1 or 2, then add one on \"next\" button click\n\n      if (currentStep === 3) {\n        let param = {\n          Data: {\n            Rules: this.state.answer.slice(0, 7)\n          }\n        };\n        let headers = new Headers();\n        headers.append(\"Content-Type\", \"application/json\");\n        headers.append(\"Accept\", \"application/json\");\n        headers.append(\"Access-Control-Allow-Origin\", \"*\");\n        headers.append(\"GET\", \"POST\", \"OPTIONS\");\n        console.log(JSON.stringify(param)); // fetch(\"http://www.mocky.io/v2/5eb509e40e00001d42081eeb\", {\n\n        fetch(\"http://localhost:5000/categories/rules\", {\n          method: \"POST\",\n          // mode: \"cors\",\n          // headers: headers,\n          body: JSON.stringify(param)\n        }).then(res => res.json()).then(result => {\n          // console.log(result);\n          if (result.Data.Error) {\n            // fetch(\"http://www.mocky.io/v2/5eaa841f2d000095002686ba\")\n            fetch(\"http://localhost:5000/categories\").then(res => res.json()).then(result => {\n              // console.log(result);\n              this.setState({\n                page5_data: result.Data\n              });\n              currentStep = currentStep + 1;\n              this.setState({\n                currentStep: currentStep\n              });\n            }, error => {});\n          } else {\n            this.setState({\n              errorPopup: true\n            });\n            this.setState({\n              errMsg: result.Data.Error\n            });\n          }\n        }, error => {});\n      } else {\n        currentStep = currentStep + 1;\n        this.setState({\n          currentStep: currentStep\n        });\n      }\n    };\n\n    this._prev = () => {\n      let currentStep = this.state.currentStep; // If the current step is 2 or 3, then subtract one on \"previous\" button click\n\n      currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n      this.setState({\n        currentStep: currentStep\n      });\n    };\n\n    this._submit = () => {\n      let currentStep = this.state.currentStep;\n      console.log(this.state.answer, \"answer\");\n      console.log(this.state.basicInfoAns, \"basic info ans\"); //params\n\n      let param = {\n        Data: this.state.answer[7]\n      };\n      let headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n      headers.append(\"Accept\", \"application/json\");\n      headers.append(\"Access-Control-Allow-Origin\", \"*\");\n      headers.append(\"GET\", \"POST\", \"OPTIONS\");\n      console.log(param, \"API para for page 5 \");\n      console.log(JSON.stringify(param)); //call api\n      // fetch(\"http://www.mocky.io/v2/5eae64e22f00006600198943\", {\n\n      fetch(\"http://localhost:5000/categories/curated\", {\n        method: \"POST\",\n        // mode: \"cors\",\n        // headers: headers,\n        body: JSON.stringify(param)\n      }).then(res => res.json()).then(result => {\n        console.log(result, \"asdhjadsjasd\");\n        this.setState({\n          page6_data: result.Data\n        });\n        let formatted = [];\n        Object.keys(result.Data).map(function (key) {\n          result.Data[key].map(item => {\n            formatted.push({\n              Name: item[0],\n              Code: item[1]\n            });\n          });\n        });\n        this.setState({\n          page6_formatted: formatted\n        });\n      }, error => {}); // next step\n\n      currentStep = currentStep = currentStep + 1;\n      this.setState({\n        currentStep: currentStep\n      });\n    };\n\n    this._submit2 = () => {\n      let currentStep = this.state.currentStep;\n      console.log(this.state.answer, \"answer\");\n      console.log(this.state.basicInfoAns, \"basic info ans\"); //params\n\n      let param = {\n        Data: {\n          Rules: this.state.answer.slice(0, 7),\n          Selected_Stocks: this.state.answer[8],\n          CPFOA: this.state.basicInfoAns[3],\n          CPFSA: this.state.basicInfoAns[4]\n        }\n      };\n      console.log(param, \"API param for last page\"); //call api\n      // fetch(\"http://www.mocky.io/v2/5eaf91ab3300004b009f446c\", {\n\n      fetch(\"http://localhost:5000/decisiontree\", {\n        method: \"POST\",\n        body: JSON.stringify(param)\n      }).then(res => res.json()).then(result => {\n        console.log(result, \"this is an object\");\n        let formatted = [];\n        Object.keys(result.Data).map(function (key) {\n          formatted.push({\n            key: key,\n            value: result.Data[key]\n          });\n        });\n        this.setState({\n          modal_data: formatted\n        });\n        this.setState({\n          showModal: true\n        });\n      }, error => {});\n    };\n\n    this._submit3 = () => {\n      this.setState({\n        loading: true\n      });\n      let currentStep = this.state.currentStep;\n      console.log(this.state.answer, \"answer\");\n      console.log(this.state.basicInfoAns, \"basic info ans\"); //params\n\n      let param = {\n        Data: {\n          Rules: this.state.answer.slice(0, 7),\n          Selected_Stocks: this.state.answer[8],\n          CPFOA: this.state.basicInfoAns[3],\n          CPFSA: this.state.basicInfoAns[4]\n        }\n      };\n      console.log(param, \"API param for last page\"); //call api\n      // fetch(\"http://www.mocky.io/v2/5eae74a62f00006800198964\", {\n\n      fetch(\"http://localhost:5000/ga\", {\n        method: \"POST\",\n        body: JSON.stringify(param)\n      }).then(res => res.json()).then(result => {\n        // console.log(result);\n        setTimeout(() => {\n          this.setState({\n            page7_data: result.Data\n          });\n          this.setState({\n            showModal: true\n          });\n          this.setState({\n            loading: false\n          });\n          currentStep = currentStep = currentStep + 1;\n          this.setState({\n            currentStep: currentStep\n          });\n        }, 3000);\n      }, error => {});\n    };\n\n    this.state = {\n      currentStep: 1,\n      // Default is Step 1\n      basicInfoAns: [],\n      answer: [],\n      page5_data: [],\n      page6_data: {},\n      modal_data: [],\n      page7_data: {},\n      page6_formatted: [],\n      changeAge: false,\n      changeOA: false,\n      changeSA: false,\n      changeBankrupt: true,\n      showModal: false,\n      loading: false,\n      errorPopup: false,\n      errMsg: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this._next = this._next.bind(this);\n    this._prev = this._prev.bind(this);\n  } // handleChange = event => {\n  //   // const { name, value } = event.target;\n  //   // this.setState({\n  //   //   [name]: value\n  //   // });\n  // };\n\n\n  handlebasicInfoPage(event, question) {\n    // console.log(event, \"event\");\n    // console.log(`Question ${question}: answer is -> ${JSON.stringify(event)}`);\n    let answer = this.state.basicInfoAns;\n    answer[question] = event;\n    this.state.basicInfoAns = answer;\n  }\n\n  handleChange(event, question) {\n    // console.log(`Question ${question}: answer is -> ${JSON.stringify(event)}`);\n    let answer = this.state.answer;\n\n    if (question == 8) {\n      let newResult = [];\n      this.state.page6_formatted.map(item => {\n        if (event.includes(item.Code)) newResult.push(item);\n      });\n      answer[question] = newResult;\n      this.state.answer = answer;\n    } else if (question < 7) {\n      answer[question] = event;\n      answer[question] = Number((question + 1).toString() + event.toString());\n      this.state.answer = answer;\n    } else {\n      answer[question] = event;\n      this.state.answer = answer;\n    }\n  }\n\n  //button functions\n  previousButton() {\n    let currentStep = this.state.currentStep;\n\n    if (currentStep !== 1) {\n      return React.createElement(\"button\", {\n        className: \"btn btn-secondary\",\n        type: \"button\",\n        onClick: this._prev,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"Previous\");\n    }\n\n    return null;\n  }\n\n  nextButton() {\n    let currentStep = this.state.currentStep;\n\n    if (currentStep < 4) {\n      return React.createElement(\"button\", {\n        className: \"btn btn-primary float-right\",\n        type: \"button\",\n        onClick: () => this._next(),\n        disabled: !this.state.changeAge || this.state.changeBankrupt || !this.state.changeOA || !this.state.changeSA,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, !this.state.changeAge || this.state.changeBankrupt || !this.state.changeOA || !this.state.changeSA ? \"Please fill up the fields to proceed\" : \"Next\");\n    }\n\n    return null;\n  }\n\n  submitButton() {\n    let currentStep = this.state.currentStep;\n\n    if (currentStep === 4 || currentStep === 5) {\n      return React.createElement(\"button\", {\n        className: \"btn btn-success float-right\",\n        type: \"button\",\n        onClick: currentStep === 4 ? this._submit : this._submit2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Submit\");\n    }\n\n    return null;\n  }\n\n  restart() {\n    this.setState({\n      currentStep: 1\n    });\n    this.setState({\n      basicInfoAns: []\n    });\n    this.setState({\n      answer: []\n    });\n    this.setState({\n      page5_data: []\n    });\n    this.setState({\n      page6_data: {}\n    });\n    this.setState({\n      modal_data: []\n    });\n    this.setState({\n      page7_data: {}\n    });\n    this.setState({\n      page6_formatted: []\n    });\n    this.setState({\n      changeAge: false\n    });\n    this.setState({\n      changeOA: false\n    });\n    this.setState({\n      changeSA: false\n    });\n    this.setState({\n      changeBankrupt: true\n    });\n    this.setState({\n      showModal: false\n    });\n    this.setState({\n      loading: false\n    });\n    this.setState({\n      errorPopup: false\n    });\n    this.setState({\n      errMsg: \"\"\n    });\n  }\n\n  render() {\n    var style = {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      padding: \"50px 0\"\n    };\n    let textStyle = {\n      textAlign: \"center\",\n      paddingTop: \"30px\"\n    };\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, \"CPF Investment Advisor\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"Investing is an effective way to put your money to work and build wealth. Kickstart your investment planning with us! Just fill up a short questionaire below\"), React.createElement(\"h3\", {\n      style: textStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, \"Step \", this.state.currentStep, \" \"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, React.createElement(Step1, {\n      currentStep: this.state.currentStep,\n      handleChange: (event, qn) => this.handlebasicInfoPage(event, qn),\n      changeAge: changeAge => this.setState({\n        changeAge\n      }),\n      changeOA: changeOA => this.setState({\n        changeOA\n      }),\n      changeSA: changeSA => this.setState({\n        changeSA\n      }),\n      changeBankrupt: changeBankrupt => this.setState({\n        changeBankrupt\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }), React.createElement(Step2, {\n      currentStep: this.state.currentStep,\n      handleChange: (event, qn) => this.handleChange(event, qn),\n      checkboxvalue: this.state.checkboxvalue,\n      username: this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }), React.createElement(Step3, {\n      currentStep: this.state.currentStep,\n      handleChange: this.handleChange,\n      password: this.state.password,\n      isError: this.state.errorPopup,\n      errorMsg: this.state.errMsg,\n      restart: () => this.restart(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }), React.createElement(Step4, {\n      currentStep: this.state.currentStep,\n      handleChange: this.handleChange,\n      data: this.state.page5_data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }), React.createElement(Step5, {\n      currentStep: this.state.currentStep,\n      handleChange: this.handleChange,\n      data: this.state.page6_data,\n      showModal: this.state.showModal,\n      hideModal: () => this.setState({\n        showModal: false\n      }),\n      changeShowModal: showModal => this._submit3(showModal),\n      modalData: this.state.modal_data,\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }), React.createElement(Step6, {\n      currentStep: this.state.currentStep,\n      handleChange: this.handleChange,\n      data: this.state.page7_data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, this.previousButton(), this.nextButton(), this.submitButton())));\n  }\n\n}\n\nexport default MasterForm;","map":{"version":3,"sources":["/Users/yan.bo.ng/Downloads/team8-portfolio-optimizer-new 2/src/components/MasterForm.js"],"names":["React","useForm","Component","Radiochecklist","Step1","Step2","Step3","Step4","Step5","Step6","MasterForm","constructor","props","handleSubmit","event","preventDefault","state","email","username","password","alert","_next","currentStep","param","Data","Rules","answer","slice","headers","Headers","append","console","log","JSON","stringify","fetch","method","body","then","res","json","result","Error","setState","page5_data","error","errorPopup","errMsg","_prev","_submit","basicInfoAns","page6_data","formatted","Object","keys","map","key","item","push","Name","Code","page6_formatted","_submit2","Selected_Stocks","CPFOA","CPFSA","value","modal_data","showModal","_submit3","loading","setTimeout","page7_data","changeAge","changeOA","changeSA","changeBankrupt","handleChange","bind","handlebasicInfoPage","question","newResult","includes","Number","toString","previousButton","nextButton","submitButton","restart","render","style","display","justifyContent","width","padding","textStyle","textAlign","paddingTop","qn","checkboxvalue"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B,C,CAA+C;;AAC/C,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AACA,MAAMC,UAAN,SAAyBR,SAAzB,CAAmC;AACjCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SA6DnBC,YA7DmB,GA6DHC,KAAD,IAAW;AACxBA,MAAAA,KAAK,CAACC,cAAN;AADwB,0BAEc,KAAKC,KAFnB;AAAA,YAEhBC,KAFgB,eAEhBA,KAFgB;AAAA,YAETC,QAFS,eAETA,QAFS;AAAA,YAECC,QAFD,eAECA,QAFD;AAGxBC,MAAAA,KAAK,4DACWH,KADX,wCAEcC,QAFd,uCAGcC,QAHd,EAAL;AAID,KApEkB;;AAAA,SAsEnBE,KAtEmB,GAsEX,MAAM;AACZ;AACA;AACA;AACA,UAAIC,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B,CAJY,CAKZ;;AACA,UAAIA,WAAW,KAAK,CAApB,EAAuB;AACrB,YAAIC,KAAK,GAAG;AACVC,UAAAA,IAAI,EAAE;AACJC,YAAAA,KAAK,EAAE,KAAKT,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B;AADH;AADI,SAAZ;AAKA,YAAIC,OAAO,GAAG,IAAIC,OAAJ,EAAd;AACAD,QAAAA,OAAO,CAACE,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACAF,QAAAA,OAAO,CAACE,MAAR,CAAe,QAAf,EAAyB,kBAAzB;AACAF,QAAAA,OAAO,CAACE,MAAR,CAAe,6BAAf,EAA8C,GAA9C;AACAF,QAAAA,OAAO,CAACE,MAAR,CAAe,KAAf,EAAsB,MAAtB,EAA8B,SAA9B;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeX,KAAf,CAAZ,EAZqB,CAcrB;;AACEY,QAAAA,KAAK,CAAC,wCAAD,EAA2C;AAChDC,UAAAA,MAAM,EAAE,MADwC;AAEhD;AACA;AACAC,UAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAeX,KAAf;AAJ0C,SAA3C,CAAL,CAMCe,IAND,CAMOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANf,EAOCF,IAPD,CAQGG,MAAD,IAAY;AACV;AACA,cAAIA,MAAM,CAACjB,IAAP,CAAYkB,KAAhB,EAAuB;AACrB;AACEP,YAAAA,KAAK,CAAC,kCAAD,CAAL,CACCG,IADD,CACOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADf,EAECF,IAFD,CAGGG,MAAD,IAAY;AACV;AACA,mBAAKE,QAAL,CAAc;AAAEC,gBAAAA,UAAU,EAAEH,MAAM,CAACjB;AAArB,eAAd;AACAF,cAAAA,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACA,mBAAKqB,QAAL,CAAc;AACZrB,gBAAAA,WAAW,EAAEA;AADD,eAAd;AAGD,aAVH,EAWGuB,KAAD,IAAW,CAAE,CAXf;AAaH,WAfD,MAeO;AACL,iBAAKF,QAAL,CAAc;AAAEG,cAAAA,UAAU,EAAE;AAAd,aAAd;AACA,iBAAKH,QAAL,CAAc;AAAEI,cAAAA,MAAM,EAAEN,MAAM,CAACjB,IAAP,CAAYkB;AAAtB,aAAd;AACD;AACF,SA7BH,EA8BGG,KAAD,IAAW,CAAE,CA9Bf;AAgCH,OA/CD,MA+CO;AACLvB,QAAAA,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACA,aAAKqB,QAAL,CAAc;AACZrB,UAAAA,WAAW,EAAEA;AADD,SAAd;AAGD;AACF,KAjIkB;;AAAA,SAmInB0B,KAnImB,GAmIX,MAAM;AACZ,UAAI1B,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B,CADY,CAEZ;;AACAA,MAAAA,WAAW,GAAGA,WAAW,IAAI,CAAf,GAAmB,CAAnB,GAAuBA,WAAW,GAAG,CAAnD;AACA,WAAKqB,QAAL,CAAc;AACZrB,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGD,KA1IkB;;AAAA,SA4InB2B,OA5ImB,GA4IT,MAAM;AACd,UAAI3B,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWU,MAAvB,EAA+B,QAA/B;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWkC,YAAvB,EAAqC,gBAArC,EAHc,CAId;;AACA,UAAI3B,KAAK,GAAG;AACVC,QAAAA,IAAI,EAAE,KAAKR,KAAL,CAAWU,MAAX,CAAkB,CAAlB;AADI,OAAZ;AAIA,UAAIE,OAAO,GAAG,IAAIC,OAAJ,EAAd;AACAD,MAAAA,OAAO,CAACE,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,QAAf,EAAyB,kBAAzB;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,6BAAf,EAA8C,GAA9C;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,KAAf,EAAsB,MAAtB,EAA8B,SAA9B;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ,EAAmB,sBAAnB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeX,KAAf,CAAZ,EAhBc,CAiBd;AACA;;AACEY,MAAAA,KAAK,CAAC,0CAAD,EAA6C;AAClDC,QAAAA,MAAM,EAAE,MAD0C;AAElD;AACA;AACAC,QAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAeX,KAAf;AAJ4C,OAA7C,CAAL,CAMCe,IAND,CAMOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANf,EAOCF,IAPD,CAQGG,MAAD,IAAY;AACVV,QAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ,EAAoB,cAApB;AACA,aAAKE,QAAL,CAAc;AAAEQ,UAAAA,UAAU,EAAEV,MAAM,CAACjB;AAArB,SAAd;AACA,YAAI4B,SAAS,GAAG,EAAhB;AACAC,QAAAA,MAAM,CAACC,IAAP,CAAYb,MAAM,CAACjB,IAAnB,EAAyB+B,GAAzB,CAA6B,UAAUC,GAAV,EAAe;AAC1Cf,UAAAA,MAAM,CAACjB,IAAP,CAAYgC,GAAZ,EAAiBD,GAAjB,CAAsBE,IAAD,IAAU;AAC7BL,YAAAA,SAAS,CAACM,IAAV,CAAe;AACbC,cAAAA,IAAI,EAAEF,IAAI,CAAC,CAAD,CADG;AAEbG,cAAAA,IAAI,EAAEH,IAAI,CAAC,CAAD;AAFG,aAAf;AAID,WALD;AAMD,SAPD;AAQA,aAAKd,QAAL,CAAc;AAAEkB,UAAAA,eAAe,EAAET;AAAnB,SAAd;AACD,OArBH,EAsBGP,KAAD,IAAW,CAAE,CAtBf,EAnBY,CA4Cd;;AACAvB,MAAAA,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG,CAA1C;AACA,WAAKqB,QAAL,CAAc;AACZrB,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGD,KA7LkB;;AAAA,SA+LnBwC,QA/LmB,GA+LR,MAAM;AACf,UAAIxC,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWU,MAAvB,EAA+B,QAA/B;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWkC,YAAvB,EAAqC,gBAArC,EAHe,CAIf;;AACA,UAAI3B,KAAK,GAAG;AACVC,QAAAA,IAAI,EAAE;AACJC,UAAAA,KAAK,EAAE,KAAKT,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CADH;AAEJoC,UAAAA,eAAe,EAAE,KAAK/C,KAAL,CAAWU,MAAX,CAAkB,CAAlB,CAFb;AAGJsC,UAAAA,KAAK,EAAE,KAAKhD,KAAL,CAAWkC,YAAX,CAAwB,CAAxB,CAHH;AAIJe,UAAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWkC,YAAX,CAAwB,CAAxB;AAJH;AADI,OAAZ;AASAnB,MAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ,EAAmB,yBAAnB,EAde,CAef;AACA;;AACEY,MAAAA,KAAK,CAAC,oCAAD,EAAuC;AAC5CC,QAAAA,MAAM,EAAE,MADoC;AAE5CC,QAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAeX,KAAf;AAFsC,OAAvC,CAAL,CAICe,IAJD,CAIOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJf,EAKCF,IALD,CAMGG,MAAD,IAAY;AACVV,QAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ,EAAoB,mBAApB;AACA,YAAIW,SAAS,GAAG,EAAhB;AACAC,QAAAA,MAAM,CAACC,IAAP,CAAYb,MAAM,CAACjB,IAAnB,EAAyB+B,GAAzB,CAA6B,UAAUC,GAAV,EAAe;AAC1CJ,UAAAA,SAAS,CAACM,IAAV,CAAe;AACbF,YAAAA,GAAG,EAAEA,GADQ;AAEbU,YAAAA,KAAK,EAAEzB,MAAM,CAACjB,IAAP,CAAYgC,GAAZ;AAFM,WAAf;AAID,SALD;AAMA,aAAKb,QAAL,CAAc;AAAEwB,UAAAA,UAAU,EAAEf;AAAd,SAAd;AACA,aAAKT,QAAL,CAAc;AAAEyB,UAAAA,SAAS,EAAE;AAAb,SAAd;AACD,OAjBH,EAkBGvB,KAAD,IAAW,CAAE,CAlBf;AAoBH,KApOkB;;AAAA,SAsOnBwB,QAtOmB,GAsOR,MAAM;AACf,WAAK1B,QAAL,CAAc;AAAE2B,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,UAAIhD,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWU,MAAvB,EAA+B,QAA/B;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWkC,YAAvB,EAAqC,gBAArC,EAJe,CAKf;;AACA,UAAI3B,KAAK,GAAG;AACVC,QAAAA,IAAI,EAAE;AACJC,UAAAA,KAAK,EAAE,KAAKT,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CADH;AAEJoC,UAAAA,eAAe,EAAE,KAAK/C,KAAL,CAAWU,MAAX,CAAkB,CAAlB,CAFb;AAGJsC,UAAAA,KAAK,EAAE,KAAKhD,KAAL,CAAWkC,YAAX,CAAwB,CAAxB,CAHH;AAIJe,UAAAA,KAAK,EAAE,KAAKjD,KAAL,CAAWkC,YAAX,CAAwB,CAAxB;AAJH;AADI,OAAZ;AASAnB,MAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ,EAAmB,yBAAnB,EAfe,CAgBf;AACA;;AACEY,MAAAA,KAAK,CAAC,0BAAD,EAA6B;AAClCC,QAAAA,MAAM,EAAE,MAD0B;AAElCC,QAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAeX,KAAf;AAF4B,OAA7B,CAAL,CAICe,IAJD,CAIOC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJf,EAKCF,IALD,CAMGG,MAAD,IAAY;AACV;AACA8B,QAAAA,UAAU,CAAC,MAAM;AACf,eAAK5B,QAAL,CAAc;AAAE6B,YAAAA,UAAU,EAAE/B,MAAM,CAACjB;AAArB,WAAd;AACA,eAAKmB,QAAL,CAAc;AAAEyB,YAAAA,SAAS,EAAE;AAAb,WAAd;AACA,eAAKzB,QAAL,CAAc;AAAE2B,YAAAA,OAAO,EAAE;AAAX,WAAd;AACAhD,UAAAA,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAG,CAA1C;AACA,eAAKqB,QAAL,CAAc;AACZrB,YAAAA,WAAW,EAAEA;AADD,WAAd;AAGD,SARS,EAQP,IARO,CAAV;AASD,OAjBH,EAkBGuB,KAAD,IAAW,CAAE,CAlBf;AAoBH,KA5QkB;;AAGjB,SAAK7B,KAAL,GAAa;AACXM,MAAAA,WAAW,EAAE,CADF;AACK;AAChB4B,MAAAA,YAAY,EAAE,EAFH;AAGXxB,MAAAA,MAAM,EAAE,EAHG;AAIXkB,MAAAA,UAAU,EAAE,EAJD;AAKXO,MAAAA,UAAU,EAAE,EALD;AAMXgB,MAAAA,UAAU,EAAE,EAND;AAOXK,MAAAA,UAAU,EAAE,EAPD;AAQXX,MAAAA,eAAe,EAAE,EARN;AASXY,MAAAA,SAAS,EAAE,KATA;AAUXC,MAAAA,QAAQ,EAAE,KAVC;AAWXC,MAAAA,QAAQ,EAAE,KAXC;AAYXC,MAAAA,cAAc,EAAE,IAZL;AAaXR,MAAAA,SAAS,EAAE,KAbA;AAcXE,MAAAA,OAAO,EAAE,KAdE;AAeXxB,MAAAA,UAAU,EAAE,KAfD;AAgBXC,MAAAA,MAAM,EAAE;AAhBG,KAAb;AAkBA,SAAK8B,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKzD,KAAL,GAAa,KAAKA,KAAL,CAAWyD,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAK9B,KAAL,GAAa,KAAKA,KAAL,CAAW8B,IAAX,CAAgB,IAAhB,CAAb;AACD,GAzBgC,CA2BjC;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAAA,mBAAmB,CAACjE,KAAD,EAAQkE,QAAR,EAAkB;AACnC;AACA;AACA,QAAItD,MAAM,GAAG,KAAKV,KAAL,CAAWkC,YAAxB;AACAxB,IAAAA,MAAM,CAACsD,QAAD,CAAN,GAAmBlE,KAAnB;AACA,SAAKE,KAAL,CAAWkC,YAAX,GAA0BxB,MAA1B;AACD;;AAEDmD,EAAAA,YAAY,CAAC/D,KAAD,EAAQkE,QAAR,EAAkB;AAC5B;AACA,QAAItD,MAAM,GAAG,KAAKV,KAAL,CAAWU,MAAxB;;AACA,QAAIsD,QAAQ,IAAI,CAAhB,EAAmB;AACjB,UAAIC,SAAS,GAAG,EAAhB;AACA,WAAKjE,KAAL,CAAW6C,eAAX,CAA2BN,GAA3B,CAAgCE,IAAD,IAAU;AACvC,YAAI3C,KAAK,CAACoE,QAAN,CAAezB,IAAI,CAACG,IAApB,CAAJ,EAA+BqB,SAAS,CAACvB,IAAV,CAAeD,IAAf;AAChC,OAFD;AAGA/B,MAAAA,MAAM,CAACsD,QAAD,CAAN,GAAmBC,SAAnB;AACA,WAAKjE,KAAL,CAAWU,MAAX,GAAoBA,MAApB;AACD,KAPD,MAOO,IAAIsD,QAAQ,GAAG,CAAf,EAAkB;AACvBtD,MAAAA,MAAM,CAACsD,QAAD,CAAN,GAAmBlE,KAAnB;AACAY,MAAAA,MAAM,CAACsD,QAAD,CAAN,GAAmBG,MAAM,CAAC,CAACH,QAAQ,GAAG,CAAZ,EAAeI,QAAf,KAA4BtE,KAAK,CAACsE,QAAN,EAA7B,CAAzB;AACA,WAAKpE,KAAL,CAAWU,MAAX,GAAoBA,MAApB;AACD,KAJM,MAIA;AACLA,MAAAA,MAAM,CAACsD,QAAD,CAAN,GAAmBlE,KAAnB;AACA,WAAKE,KAAL,CAAWU,MAAX,GAAoBA,MAApB;AACD;AACF;;AAmND;AAEA2D,EAAAA,cAAc,GAAG;AACf,QAAI/D,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;;AACA,QAAIA,WAAW,KAAK,CAApB,EAAuB;AACrB,aACE;AACE,QAAA,SAAS,EAAC,mBADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAE,KAAK0B,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF;AASD;;AACD,WAAO,IAAP;AACD;;AACDsC,EAAAA,UAAU,GAAG;AACX,QAAIhE,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;;AAEA,QAAIA,WAAW,GAAG,CAAlB,EAAqB;AACnB,aACE;AACE,QAAA,SAAS,EAAC,6BADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAE,MAAM,KAAKD,KAAL,EAHjB;AAIE,QAAA,QAAQ,EACN,CAAC,KAAKL,KAAL,CAAWyD,SAAZ,IACA,KAAKzD,KAAL,CAAW4D,cADX,IAEA,CAAC,KAAK5D,KAAL,CAAW0D,QAFZ,IAGA,CAAC,KAAK1D,KAAL,CAAW2D,QARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAWG,CAAC,KAAK3D,KAAL,CAAWyD,SAAZ,IACD,KAAKzD,KAAL,CAAW4D,cADV,IAED,CAAC,KAAK5D,KAAL,CAAW0D,QAFX,IAGD,CAAC,KAAK1D,KAAL,CAAW2D,QAHX,GAIG,sCAJH,GAKG,MAhBN,CADF;AAoBD;;AACD,WAAO,IAAP;AACD;;AAEDY,EAAAA,YAAY,GAAG;AACb,QAAIjE,WAAW,GAAG,KAAKN,KAAL,CAAWM,WAA7B;;AACA,QAAIA,WAAW,KAAK,CAAhB,IAAqBA,WAAW,KAAK,CAAzC,EAA4C;AAC1C,aACE;AACE,QAAA,SAAS,EAAC,6BADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAEA,WAAW,KAAK,CAAhB,GAAoB,KAAK2B,OAAzB,GAAmC,KAAKa,QAHnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AASD;;AACD,WAAO,IAAP;AACD;;AAED0B,EAAAA,OAAO,GAAG;AACR,SAAK7C,QAAL,CAAc;AAAErB,MAAAA,WAAW,EAAE;AAAf,KAAd;AACA,SAAKqB,QAAL,CAAc;AAAEO,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACA,SAAKP,QAAL,CAAc;AAAEjB,MAAAA,MAAM,EAAE;AAAV,KAAd;AACA,SAAKiB,QAAL,CAAc;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAd;AACA,SAAKD,QAAL,CAAc;AAAEQ,MAAAA,UAAU,EAAE;AAAd,KAAd;AACA,SAAKR,QAAL,CAAc;AAAEwB,MAAAA,UAAU,EAAE;AAAd,KAAd;AACA,SAAKxB,QAAL,CAAc;AAAE6B,MAAAA,UAAU,EAAE;AAAd,KAAd;AACA,SAAK7B,QAAL,CAAc;AAAEkB,MAAAA,eAAe,EAAE;AAAnB,KAAd;AACA,SAAKlB,QAAL,CAAc;AAAE8B,MAAAA,SAAS,EAAE;AAAb,KAAd;AACA,SAAK9B,QAAL,CAAc;AAAE+B,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,SAAK/B,QAAL,CAAc;AAAEgC,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,SAAKhC,QAAL,CAAc;AAAEiC,MAAAA,cAAc,EAAE;AAAlB,KAAd;AACA,SAAKjC,QAAL,CAAc;AAAEyB,MAAAA,SAAS,EAAE;AAAb,KAAd;AACA,SAAKzB,QAAL,CAAc;AAAE2B,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,SAAK3B,QAAL,CAAc;AAAEG,MAAAA,UAAU,EAAE;AAAd,KAAd;AACA,SAAKH,QAAL,CAAc;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAd;AACD;;AACD0C,EAAAA,MAAM,GAAG;AACP,QAAIC,KAAK,GAAG;AACVC,MAAAA,OAAO,EAAE,MADC;AAEVC,MAAAA,cAAc,EAAE,eAFN;AAGVC,MAAAA,KAAK,EAAE,MAHG;AAIVC,MAAAA,OAAO,EAAE;AAJC,KAAZ;AAOA,QAAIC,SAAS,GAAG;AACdC,MAAAA,SAAS,EAAE,QADG;AAEdC,MAAAA,UAAU,EAAE;AAFE,KAAhB;AAIA,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uKAHF,EASE;AAAI,MAAA,KAAK,EAAEF,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA4B,KAAK/E,KAAL,CAAWM,WAAvC,MATF,EAYE;AAAM,MAAA,QAAQ,EAAE,KAAKT,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAKG,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,CAACR,KAAD,EAAQoF,EAAR,KAAe,KAAKnB,mBAAL,CAAyBjE,KAAzB,EAAgCoF,EAAhC,CAF/B;AAGE,MAAA,SAAS,EAAGzB,SAAD,IAAe,KAAK9B,QAAL,CAAc;AAAE8B,QAAAA;AAAF,OAAd,CAH5B;AAIE,MAAA,QAAQ,EAAGC,QAAD,IAAc,KAAK/B,QAAL,CAAc;AAAE+B,QAAAA;AAAF,OAAd,CAJ1B;AAKE,MAAA,QAAQ,EAAGC,QAAD,IAAc,KAAKhC,QAAL,CAAc;AAAEgC,QAAAA;AAAF,OAAd,CAL1B;AAME,MAAA,cAAc,EAAGC,cAAD,IACd,KAAKjC,QAAL,CAAc;AAAEiC,QAAAA;AAAF,OAAd,CAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAWE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAK5D,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,CAACR,KAAD,EAAQoF,EAAR,KAAe,KAAKrB,YAAL,CAAkB/D,KAAlB,EAAyBoF,EAAzB,CAF/B;AAGE,MAAA,aAAa,EAAE,KAAKlF,KAAL,CAAWmF,aAH5B;AAIE,MAAA,QAAQ,EAAE,KAAKnF,KAAL,CAAWE,QAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAiBE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAKF,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,KAAKuD,YAFrB;AAGE,MAAA,QAAQ,EAAE,KAAK7D,KAAL,CAAWG,QAHvB;AAIE,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAW8B,UAJtB;AAKE,MAAA,QAAQ,EAAE,KAAK9B,KAAL,CAAW+B,MALvB;AAME,MAAA,OAAO,EAAE,MAAM,KAAKyC,OAAL,EANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBF,EAyBE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAKxE,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,KAAKuD,YAFrB;AAGE,MAAA,IAAI,EAAE,KAAK7D,KAAL,CAAW4B,UAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBF,EA8BE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAK5B,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,KAAKuD,YAFrB;AAGE,MAAA,IAAI,EAAE,KAAK7D,KAAL,CAAWmC,UAHnB;AAIE,MAAA,SAAS,EAAE,KAAKnC,KAAL,CAAWoD,SAJxB;AAKE,MAAA,SAAS,EAAE,MAAM,KAAKzB,QAAL,CAAc;AAAEyB,QAAAA,SAAS,EAAE;AAAb,OAAd,CALnB;AAME,MAAA,eAAe,EAAGA,SAAD,IAAe,KAAKC,QAAL,CAAcD,SAAd,CANlC;AAOE,MAAA,SAAS,EAAE,KAAKpD,KAAL,CAAWmD,UAPxB;AAQE,MAAA,OAAO,EAAE,KAAKnD,KAAL,CAAWsD,OARtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9BF,EAwCE,oBAAC,KAAD;AACE,MAAA,WAAW,EAAE,KAAKtD,KAAL,CAAWM,WAD1B;AAEE,MAAA,YAAY,EAAE,KAAKuD,YAFrB;AAGE,MAAA,IAAI,EAAE,KAAK7D,KAAL,CAAWwD,UAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxCF,EA6CE;AAAK,MAAA,KAAK,EAAEkB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKL,cAAL,EADH,EAEG,KAAKC,UAAL,EAFH,EAGG,KAAKC,YAAL,EAHH,CA7CF,CAZF,CADF;AAkED;;AA5agC;;AA+anC,eAAe7E,UAAf","sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Component } from \"react\";\nimport Radiochecklist from \"./RadioChecklist\"; // importing child component\nimport Step1 from \"./BasicInfo\";\nimport Step2 from \"./RiskTolerance1\";\nimport Step3 from \"./RiskTolerance2\";\nimport Step4 from \"./page5\";\nimport Step5 from \"./page6\";\nimport Step6 from \"./page7\";\nclass MasterForm extends Component {\n  constructor(props) {\n    super(props);\n    // Set the initial input values\n    this.state = {\n      currentStep: 1, // Default is Step 1\n      basicInfoAns: [],\n      answer: [],\n      page5_data: [],\n      page6_data: {},\n      modal_data: [],\n      page7_data: {},\n      page6_formatted: [],\n      changeAge: false,\n      changeOA: false,\n      changeSA: false,\n      changeBankrupt: true,\n      showModal: false,\n      loading: false,\n      errorPopup: false,\n      errMsg: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this._next = this._next.bind(this);\n    this._prev = this._prev.bind(this);\n  }\n\n  // handleChange = event => {\n  //   // const { name, value } = event.target;\n  //   // this.setState({\n  //   //   [name]: value\n  //   // });\n  // };\n\n  handlebasicInfoPage(event, question) {\n    // console.log(event, \"event\");\n    // console.log(`Question ${question}: answer is -> ${JSON.stringify(event)}`);\n    let answer = this.state.basicInfoAns;\n    answer[question] = event;\n    this.state.basicInfoAns = answer;\n  }\n\n  handleChange(event, question) {\n    // console.log(`Question ${question}: answer is -> ${JSON.stringify(event)}`);\n    let answer = this.state.answer;\n    if (question == 8) {\n      let newResult = [];\n      this.state.page6_formatted.map((item) => {\n        if (event.includes(item.Code)) newResult.push(item);\n      });\n      answer[question] = newResult;\n      this.state.answer = answer;\n    } else if (question < 7) {\n      answer[question] = event;\n      answer[question] = Number((question + 1).toString() + event.toString());\n      this.state.answer = answer;\n    } else {\n      answer[question] = event;\n      this.state.answer = answer;\n    }\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { email, username, password } = this.state;\n    alert(`Your registration detail: \\n \n           Email: ${email} \\n \n           Username: ${username} \\n\n           Password: ${password}`);\n  };\n\n  _next = () => {\n    // console.log(\"next\", this.state.currentStep);\n    // console.log(this.state.basicInfoAns, \"basicInfo\");\n    // console.log(this.state.answer, \"answer\");\n    let currentStep = this.state.currentStep;\n    // If the current step is 1 or 2, then add one on \"next\" button click\n    if (currentStep === 3) {\n      let param = {\n        Data: {\n          Rules: this.state.answer.slice(0, 7),\n        },\n      };\n      let headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n      headers.append(\"Accept\", \"application/json\");\n      headers.append(\"Access-Control-Allow-Origin\", \"*\");\n      headers.append(\"GET\", \"POST\", \"OPTIONS\");\n\n      console.log(JSON.stringify(param));\n\n      // fetch(\"http://www.mocky.io/v2/5eb509e40e00001d42081eeb\", {\n        fetch(\"http://localhost:5000/categories/rules\", {\n        method: \"POST\",\n        // mode: \"cors\",\n        // headers: headers,\n        body: JSON.stringify(param),\n      })\n        .then((res) => res.json())\n        .then(\n          (result) => {\n            // console.log(result);\n            if (result.Data.Error) {\n              // fetch(\"http://www.mocky.io/v2/5eaa841f2d000095002686ba\")\n                fetch(\"http://localhost:5000/categories\")\n                .then((res) => res.json())\n                .then(\n                  (result) => {\n                    // console.log(result);\n                    this.setState({ page5_data: result.Data });\n                    currentStep = currentStep + 1;\n                    this.setState({\n                      currentStep: currentStep,\n                    });\n                  },\n                  (error) => {}\n                );\n            } else {\n              this.setState({ errorPopup: true });\n              this.setState({ errMsg: result.Data.Error });\n            }\n          },\n          (error) => {}\n        );\n    } else {\n      currentStep = currentStep + 1;\n      this.setState({\n        currentStep: currentStep,\n      });\n    }\n  };\n\n  _prev = () => {\n    let currentStep = this.state.currentStep;\n    // If the current step is 2 or 3, then subtract one on \"previous\" button click\n    currentStep = currentStep <= 1 ? 1 : currentStep - 1;\n    this.setState({\n      currentStep: currentStep,\n    });\n  };\n\n  _submit = () => {\n    let currentStep = this.state.currentStep;\n    console.log(this.state.answer, \"answer\");\n    console.log(this.state.basicInfoAns, \"basic info ans\");\n    //params\n    let param = {\n      Data: this.state.answer[7],\n    };\n\n    let headers = new Headers();\n    headers.append(\"Content-Type\", \"application/json\");\n    headers.append(\"Accept\", \"application/json\");\n    headers.append(\"Access-Control-Allow-Origin\", \"*\");\n    headers.append(\"GET\", \"POST\", \"OPTIONS\");\n\n    console.log(param, \"API para for page 5 \");\n    console.log(JSON.stringify(param));\n    //call api\n    // fetch(\"http://www.mocky.io/v2/5eae64e22f00006600198943\", {\n      fetch(\"http://localhost:5000/categories/curated\", {\n      method: \"POST\",\n      // mode: \"cors\",\n      // headers: headers,\n      body: JSON.stringify(param),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(result, \"asdhjadsjasd\");\n          this.setState({ page6_data: result.Data });\n          let formatted = [];\n          Object.keys(result.Data).map(function (key) {\n            result.Data[key].map((item) => {\n              formatted.push({\n                Name: item[0],\n                Code: item[1],\n              });\n            });\n          });\n          this.setState({ page6_formatted: formatted });\n        },\n        (error) => {}\n      );\n\n    // next step\n    currentStep = currentStep = currentStep + 1;\n    this.setState({\n      currentStep: currentStep,\n    });\n  };\n\n  _submit2 = () => {\n    let currentStep = this.state.currentStep;\n    console.log(this.state.answer, \"answer\");\n    console.log(this.state.basicInfoAns, \"basic info ans\");\n    //params\n    let param = {\n      Data: {\n        Rules: this.state.answer.slice(0, 7),\n        Selected_Stocks: this.state.answer[8],\n        CPFOA: this.state.basicInfoAns[3],\n        CPFSA: this.state.basicInfoAns[4],\n      },\n    };\n\n    console.log(param, \"API param for last page\");\n    //call api\n    // fetch(\"http://www.mocky.io/v2/5eaf91ab3300004b009f446c\", {\n      fetch(\"http://localhost:5000/decisiontree\", {\n      method: \"POST\",\n      body: JSON.stringify(param),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(result, \"this is an object\");\n          let formatted = [];\n          Object.keys(result.Data).map(function (key) {\n            formatted.push({\n              key: key,\n              value: result.Data[key],\n            });\n          });\n          this.setState({ modal_data: formatted });\n          this.setState({ showModal: true });\n        },\n        (error) => {}\n      );\n  };\n\n  _submit3 = () => {\n    this.setState({ loading: true });\n    let currentStep = this.state.currentStep;\n    console.log(this.state.answer, \"answer\");\n    console.log(this.state.basicInfoAns, \"basic info ans\");\n    //params\n    let param = {\n      Data: {\n        Rules: this.state.answer.slice(0, 7),\n        Selected_Stocks: this.state.answer[8],\n        CPFOA: this.state.basicInfoAns[3],\n        CPFSA: this.state.basicInfoAns[4],\n      },\n    };\n\n    console.log(param, \"API param for last page\");\n    //call api\n    // fetch(\"http://www.mocky.io/v2/5eae74a62f00006800198964\", {\n      fetch(\"http://localhost:5000/ga\", {\n      method: \"POST\",\n      body: JSON.stringify(param),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          // console.log(result);\n          setTimeout(() => {\n            this.setState({ page7_data: result.Data });\n            this.setState({ showModal: true });\n            this.setState({ loading: false });\n            currentStep = currentStep = currentStep + 1;\n            this.setState({\n              currentStep: currentStep,\n            });\n          }, 3000);\n        },\n        (error) => {}\n      );\n  };\n\n  //button functions\n\n  previousButton() {\n    let currentStep = this.state.currentStep;\n    if (currentStep !== 1) {\n      return (\n        <button\n          className=\"btn btn-secondary\"\n          type=\"button\"\n          onClick={this._prev}\n        >\n          Previous\n        </button>\n      );\n    }\n    return null;\n  }\n  nextButton() {\n    let currentStep = this.state.currentStep;\n\n    if (currentStep < 4) {\n      return (\n        <button\n          className=\"btn btn-primary float-right\"\n          type=\"button\"\n          onClick={() => this._next()}\n          disabled={\n            !this.state.changeAge ||\n            this.state.changeBankrupt ||\n            !this.state.changeOA ||\n            !this.state.changeSA\n          }\n        >\n          {!this.state.changeAge ||\n          this.state.changeBankrupt ||\n          !this.state.changeOA ||\n          !this.state.changeSA\n            ? \"Please fill up the fields to proceed\"\n            : \"Next\"}\n        </button>\n      );\n    }\n    return null;\n  }\n\n  submitButton() {\n    let currentStep = this.state.currentStep;\n    if (currentStep === 4 || currentStep === 5) {\n      return (\n        <button\n          className=\"btn btn-success float-right\"\n          type=\"button\"\n          onClick={currentStep === 4 ? this._submit : this._submit2}\n        >\n          Submit\n        </button>\n      );\n    }\n    return null;\n  }\n\n  restart() {\n    this.setState({ currentStep: 1 });\n    this.setState({ basicInfoAns: [] });\n    this.setState({ answer: [] });\n    this.setState({ page5_data: [] });\n    this.setState({ page6_data: {} });\n    this.setState({ modal_data: [] });\n    this.setState({ page7_data: {} });\n    this.setState({ page6_formatted: [] });\n    this.setState({ changeAge: false });\n    this.setState({ changeOA: false });\n    this.setState({ changeSA: false });\n    this.setState({ changeBankrupt: true });\n    this.setState({ showModal: false });\n    this.setState({ loading: false });\n    this.setState({ errorPopup: false });\n    this.setState({ errMsg: \"\" });\n  }\n  render() {\n    var style = {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      padding: \"50px 0\",\n    };\n\n    let textStyle = {\n      textAlign: \"center\",\n      paddingTop: \"30px\",\n    };\n    return (\n      <React.Fragment>\n        <h1>CPF Investment Advisor</h1>\n\n        <h2>\n          Investing is an effective way to put your money to work and build\n          wealth. Kickstart your investment planning with us! Just fill up a\n          short questionaire below\n        </h2>\n\n        <h3 style={textStyle}>Step {this.state.currentStep} </h3>\n        \n\n        <form onSubmit={this.handleSubmit}>\n          <Step1\n            currentStep={this.state.currentStep}\n            handleChange={(event, qn) => this.handlebasicInfoPage(event, qn)}\n            changeAge={(changeAge) => this.setState({ changeAge })}\n            changeOA={(changeOA) => this.setState({ changeOA })}\n            changeSA={(changeSA) => this.setState({ changeSA })}\n            changeBankrupt={(changeBankrupt) =>\n              this.setState({ changeBankrupt })\n            }\n          />\n          <Step2\n            currentStep={this.state.currentStep}\n            handleChange={(event, qn) => this.handleChange(event, qn)}\n            checkboxvalue={this.state.checkboxvalue}\n            username={this.state.username}\n          />\n          <Step3\n            currentStep={this.state.currentStep}\n            handleChange={this.handleChange}\n            password={this.state.password}\n            isError={this.state.errorPopup}\n            errorMsg={this.state.errMsg}\n            restart={() => this.restart()}\n          />\n          <Step4\n            currentStep={this.state.currentStep}\n            handleChange={this.handleChange}\n            data={this.state.page5_data}\n          />\n          <Step5\n            currentStep={this.state.currentStep}\n            handleChange={this.handleChange}\n            data={this.state.page6_data}\n            showModal={this.state.showModal}\n            hideModal={() => this.setState({ showModal: false })}\n            changeShowModal={(showModal) => this._submit3(showModal)}\n            modalData={this.state.modal_data}\n            loading={this.state.loading}\n          />\n          <Step6\n            currentStep={this.state.currentStep}\n            handleChange={this.handleChange}\n            data={this.state.page7_data}\n          />\n          <div style={style}>\n            {this.previousButton()}\n            {this.nextButton()}\n            {this.submitButton()}\n          </div>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MasterForm;\n"]},"metadata":{},"sourceType":"module"}